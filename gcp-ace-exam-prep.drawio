<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:147.0) Gecko/20100101 Firefox/147.0" version="29.4.0" pages="9">
  <diagram id="AHIeRDgFPxS0jaqBbyzj" name="4.2 Cloud Build">
    <mxGraphModel dx="1393" dy="2182" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-1" parent="1" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;" value="" vertex="1">
          <mxGeometry height="1990" width="800" x="10" y="10" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-2" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="103" width="800" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-3" parent="rIEmjimXDaofbVHIQ_TJ-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;rowspan=1;colspan=3;fontStyle=1" value="5.1 Cloud Build and Artifact Repository" vertex="1">
          <mxGeometry height="103" width="800" as="geometry">
            <mxRectangle height="103" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-4" parent="rIEmjimXDaofbVHIQ_TJ-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1" visible="0">
          <mxGeometry height="103" width="263" x="270" as="geometry">
            <mxRectangle height="103" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-5" parent="rIEmjimXDaofbVHIQ_TJ-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1" visible="0">
          <mxGeometry height="103" width="267" x="533" as="geometry">
            <mxRectangle height="103" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W3g3Enc59w4YFkGBS3dn-1" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="57" width="800" y="103" as="geometry" />
        </mxCell>
        <mxCell id="W3g3Enc59w4YFkGBS3dn-2" parent="W3g3Enc59w4YFkGBS3dn-1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;rowspan=1;colspan=3;fontStyle=1" value="Creating an image with Dockerfile and entering the repository information in the CLI" vertex="1">
          <mxGeometry height="57" width="800" as="geometry">
            <mxRectangle height="57" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W3g3Enc59w4YFkGBS3dn-3" parent="W3g3Enc59w4YFkGBS3dn-1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" visible="0">
          <mxGeometry height="57" width="263" x="270" as="geometry">
            <mxRectangle height="57" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W3g3Enc59w4YFkGBS3dn-4" parent="W3g3Enc59w4YFkGBS3dn-1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" visible="0">
          <mxGeometry height="57" width="267" x="533" as="geometry">
            <mxRectangle height="57" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-10" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="57" width="800" y="160" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-11" parent="rIEmjimXDaofbVHIQ_TJ-10" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="enable Cloud Build API" vertex="1">
          <mxGeometry height="57" width="270" as="geometry">
            <mxRectangle height="57" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-12" parent="rIEmjimXDaofbVHIQ_TJ-10" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="&lt;font face=&quot;Courier New&quot;&gt;gcloud services enable cloudbuild.googleapis.com&lt;/font&gt;" vertex="1">
          <mxGeometry height="57" width="263" x="270" as="geometry">
            <mxRectangle height="57" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-13" parent="rIEmjimXDaofbVHIQ_TJ-10" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1">
          <mxGeometry height="57" width="267" x="533" as="geometry">
            <mxRectangle height="57" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-14" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="110" width="800" y="217" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-15" parent="rIEmjimXDaofbVHIQ_TJ-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create a simple Dockerfile" vertex="1">
          <mxGeometry height="110" width="270" as="geometry">
            <mxRectangle height="110" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-16" parent="rIEmjimXDaofbVHIQ_TJ-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="#!/bin/sh&lt;br&gt;echo &quot;Hello, world! The time is $(date).&quot;&lt;br&gt;&lt;br&gt;FROM alpine&lt;br&gt;COPY quickstart.sh /&lt;br&gt;CMD [&quot;/quickstart.sh&quot;]" vertex="1">
          <mxGeometry height="110" width="263" x="270" as="geometry">
            <mxRectangle height="110" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-17" parent="rIEmjimXDaofbVHIQ_TJ-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="110" width="267" x="533" as="geometry">
            <mxRectangle height="110" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-18" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="110" width="800" y="327" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-19" parent="rIEmjimXDaofbVHIQ_TJ-18" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Change permissions on the quickstart (make it executable)" vertex="1">
          <mxGeometry height="110" width="270" as="geometry">
            <mxRectangle height="110" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-20" parent="rIEmjimXDaofbVHIQ_TJ-18" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="chmod +x quickstart.sh" vertex="1">
          <mxGeometry height="110" width="263" x="270" as="geometry">
            <mxRectangle height="110" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-21" parent="rIEmjimXDaofbVHIQ_TJ-18" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="110" width="267" x="533" as="geometry">
            <mxRectangle height="110" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-22" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="110" width="800" y="437" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-23" parent="rIEmjimXDaofbVHIQ_TJ-22" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create a Docker Artifact Repository" vertex="1">
          <mxGeometry height="110" width="270" as="geometry">
            <mxRectangle height="110" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-24" parent="rIEmjimXDaofbVHIQ_TJ-22" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud artifacts repositories&amp;nbsp;create&amp;nbsp;quickstart-docker-repo --repository-format docker --description &quot;Docker Repo&quot;" vertex="1">
          <mxGeometry height="110" width="263" x="270" as="geometry">
            <mxRectangle height="110" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-25" parent="rIEmjimXDaofbVHIQ_TJ-22" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="110" width="267" x="533" as="geometry">
            <mxRectangle height="110" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-26" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="110" width="800" y="547" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-27" parent="rIEmjimXDaofbVHIQ_TJ-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Get the Registry URI for the repository&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;" vertex="1">
          <mxGeometry height="110" width="270" as="geometry">
            <mxRectangle height="110" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-28" parent="rIEmjimXDaofbVHIQ_TJ-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="REGISTRY_URI=$(gcloud artifacts repositories describe quickstart-docker-repo --format &quot;value(registryUri)&quot;)" vertex="1">
          <mxGeometry height="110" width="263" x="270" as="geometry">
            <mxRectangle height="110" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-29" parent="rIEmjimXDaofbVHIQ_TJ-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="110" width="267" x="533" as="geometry">
            <mxRectangle height="110" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-30" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="110" width="800" y="657" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-31" parent="rIEmjimXDaofbVHIQ_TJ-30" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Submit to Cloud Build to create an image on Artifact Registry" vertex="1">
          <mxGeometry height="110" width="270" as="geometry">
            <mxRectangle height="110" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-32" parent="rIEmjimXDaofbVHIQ_TJ-30" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud builds submit --tag ${REGISTRY_URI}/quickstart-image:tag1" vertex="1">
          <mxGeometry height="110" width="263" x="270" as="geometry">
            <mxRectangle height="110" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-33" parent="rIEmjimXDaofbVHIQ_TJ-30" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="110" width="267" x="533" as="geometry">
            <mxRectangle height="110" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W3g3Enc59w4YFkGBS3dn-5" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="43" width="800" y="767" as="geometry" />
        </mxCell>
        <mxCell id="W3g3Enc59w4YFkGBS3dn-6" parent="W3g3Enc59w4YFkGBS3dn-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;rowspan=1;colspan=3;" value="Using a YAML file to set all the configuration such as repository-path, image name and tag-id" vertex="1">
          <mxGeometry height="43" width="800" as="geometry">
            <mxRectangle height="43" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W3g3Enc59w4YFkGBS3dn-7" parent="W3g3Enc59w4YFkGBS3dn-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fontSize=4;align=left;" vertex="1" visible="0">
          <mxGeometry height="43" width="263" x="270" as="geometry">
            <mxRectangle height="43" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="W3g3Enc59w4YFkGBS3dn-8" parent="W3g3Enc59w4YFkGBS3dn-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" visible="0">
          <mxGeometry height="43" width="267" x="533" as="geometry">
            <mxRectangle height="43" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-34" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="110" width="800" y="810" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-35" parent="rIEmjimXDaofbVHIQ_TJ-34" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Add this to YAML cloudbuild.yaml file" vertex="1">
          <mxGeometry height="110" width="270" as="geometry">
            <mxRectangle height="110" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-36" parent="rIEmjimXDaofbVHIQ_TJ-34" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fontSize=4;align=left;" value="&lt;pre class=&quot;hljs vim&quot; tabindex=&quot;0&quot; role=&quot;region&quot;&gt;step&lt;span class=&quot;hljs-variable&quot;&gt;s:&lt;/span&gt;&lt;br&gt;- name: &lt;span class=&quot;hljs-string&quot;&gt;&#39;gcr.io/cloud-builders/docker&#39;&lt;/span&gt;&lt;br&gt;  arg&lt;span class=&quot;hljs-variable&quot;&gt;s:&lt;/span&gt; [ &lt;span class=&quot;hljs-string&quot;&gt;&#39;build&#39;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&#39;-t&#39;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&#39;YourRegionHere-docker.pkg.dev/$PROJECT_ID/quickstart-docker-repo/quickstart-image:tag1&#39;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&#39;.&#39;&lt;/span&gt; ]&lt;br&gt;image&lt;span class=&quot;hljs-variable&quot;&gt;s:&lt;/span&gt;&lt;br&gt;- &lt;span class=&quot;hljs-string&quot;&gt;&#39;YourRegionHere-docker.pkg.dev/$PROJECT_ID/quickstart-docker-repo/quickstart-image:tag1&#39;&lt;/span&gt;&lt;/pre&gt;" vertex="1">
          <mxGeometry height="110" width="263" x="270" as="geometry">
            <mxRectangle height="110" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-37" parent="rIEmjimXDaofbVHIQ_TJ-34" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="110" width="267" x="533" as="geometry">
            <mxRectangle height="110" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-38" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="110" width="800" y="920" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-39" parent="rIEmjimXDaofbVHIQ_TJ-38" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Update the variables&amp;nbsp;" vertex="1">
          <mxGeometry height="110" width="270" as="geometry">
            <mxRectangle height="110" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-40" parent="rIEmjimXDaofbVHIQ_TJ-38" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="export REGION=&quot;REGION&quot;&lt;br&gt;sed -i &quot;s/YourRegionHere/$REGION/g&quot; cloudbuild.yaml" vertex="1">
          <mxGeometry height="110" width="263" x="270" as="geometry">
            <mxRectangle height="110" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-41" parent="rIEmjimXDaofbVHIQ_TJ-38" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="110" width="267" x="533" as="geometry">
            <mxRectangle height="110" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-42" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="110" width="800" y="1030" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-43" parent="rIEmjimXDaofbVHIQ_TJ-42" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Confirm the content is up to date" vertex="1">
          <mxGeometry height="110" width="270" as="geometry">
            <mxRectangle height="110" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-44" parent="rIEmjimXDaofbVHIQ_TJ-42" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="cat cloudbuild.yaml" vertex="1">
          <mxGeometry height="110" width="263" x="270" as="geometry">
            <mxRectangle height="110" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-45" parent="rIEmjimXDaofbVHIQ_TJ-42" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="110" width="267" x="533" as="geometry">
            <mxRectangle height="110" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-46" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="110" width="800" y="1140" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-47" parent="rIEmjimXDaofbVHIQ_TJ-46" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Submit the file" vertex="1">
          <mxGeometry height="110" width="270" as="geometry">
            <mxRectangle height="110" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-48" parent="rIEmjimXDaofbVHIQ_TJ-46" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud builds submit --config cloudbuild.yaml" vertex="1">
          <mxGeometry height="110" width="263" x="270" as="geometry">
            <mxRectangle height="110" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-49" parent="rIEmjimXDaofbVHIQ_TJ-46" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#d79b00;overflow=hidden;fillColor=#ffe6cc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="110" width="267" x="533" as="geometry">
            <mxRectangle height="110" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-50" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="160" width="800" y="1250" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-51" parent="rIEmjimXDaofbVHIQ_TJ-50" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Update the quickstart.sh file" vertex="1">
          <mxGeometry height="160" width="270" as="geometry">
            <mxRectangle height="160" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-52" parent="rIEmjimXDaofbVHIQ_TJ-50" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=left;" value="#!/bin/sh&lt;br&gt;if [ -z &quot;$1&quot; ]&lt;br&gt;then&lt;br&gt;&amp;nbsp; &amp;nbsp; echo &quot;Hello, world! The time is $(date).&quot;&lt;br&gt;&amp;nbsp; &amp;nbsp; exit 0&lt;br&gt;else&lt;br&gt;&amp;nbsp; &amp;nbsp; exit 1&lt;br&gt;fi" vertex="1">
          <mxGeometry height="160" width="263" x="270" as="geometry">
            <mxRectangle height="160" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-53" parent="rIEmjimXDaofbVHIQ_TJ-50" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="160" width="267" x="533" as="geometry">
            <mxRectangle height="160" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-54" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="280" width="800" y="1410" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-55" parent="rIEmjimXDaofbVHIQ_TJ-54" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Update cloudbuild2.yaml file" vertex="1">
          <mxGeometry height="280" width="270" as="geometry">
            <mxRectangle height="280" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-56" parent="rIEmjimXDaofbVHIQ_TJ-54" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=left;" value="steps:&lt;br&gt;- name: &#39;gcr.io/cloud-builders/docker&#39;&lt;br&gt;&amp;nbsp; args: [ &#39;build&#39;, &#39;-t&#39;, &#39;YourRegionHere-docker.pkg.dev/$PROJECT_ID/quickstart-docker-repo/quickstart-image:tag1&#39;, &#39;.&#39; ]&lt;br&gt;- name: &#39;YourRegionHere-docker.pkg.dev/$PROJECT_ID/quickstart-docker-repo/quickstart-image:tag1&#39;&lt;br&gt;&amp;nbsp; args: [&#39;fail&#39;]&lt;br&gt;images:&lt;br&gt;- &#39;YourRegionHere-docker.pkg.dev/$PROJECT_ID/quickstart-docker-repo/quickstart-image:tag1&#39;" vertex="1">
          <mxGeometry height="280" width="263" x="270" as="geometry">
            <mxRectangle height="280" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-57" parent="rIEmjimXDaofbVHIQ_TJ-54" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="280" width="267" x="533" as="geometry">
            <mxRectangle height="280" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-58" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="100" width="800" y="1690" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-59" parent="rIEmjimXDaofbVHIQ_TJ-58" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Update the parameters" vertex="1">
          <mxGeometry height="100" width="270" as="geometry">
            <mxRectangle height="100" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-60" parent="rIEmjimXDaofbVHIQ_TJ-58" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=left;" value="sed -i &quot;s/YourRegionHere/$REGION/g&quot; cloudbuild2.yaml" vertex="1">
          <mxGeometry height="100" width="263" x="270" as="geometry">
            <mxRectangle height="100" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-61" parent="rIEmjimXDaofbVHIQ_TJ-58" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="100" width="267" x="533" as="geometry">
            <mxRectangle height="100" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-62" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="100" width="800" y="1790" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-63" parent="rIEmjimXDaofbVHIQ_TJ-62" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Confirm content" vertex="1">
          <mxGeometry height="100" width="270" as="geometry">
            <mxRectangle height="100" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-64" parent="rIEmjimXDaofbVHIQ_TJ-62" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=left;" value="&lt;pre class=&quot;hljs apache&quot;&gt;&lt;span class=&quot;hljs-attribute&quot;&gt;cat&lt;/span&gt; cloudbuild&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;.yaml&lt;/pre&gt;" vertex="1">
          <mxGeometry height="100" width="263" x="270" as="geometry">
            <mxRectangle height="100" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-65" parent="rIEmjimXDaofbVHIQ_TJ-62" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="100" width="267" x="533" as="geometry">
            <mxRectangle height="100" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-66" parent="rIEmjimXDaofbVHIQ_TJ-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="100" width="800" y="1890" as="geometry" />
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-67" parent="rIEmjimXDaofbVHIQ_TJ-66" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Submit to Cloud Build to create an image on Artifact Repository" vertex="1">
          <mxGeometry height="100" width="270" as="geometry">
            <mxRectangle height="100" width="270" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-68" parent="rIEmjimXDaofbVHIQ_TJ-66" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=left;" value="gcloud builds submit --config cloudbuild2.yaml" vertex="1">
          <mxGeometry height="100" width="263" x="270" as="geometry">
            <mxRectangle height="100" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rIEmjimXDaofbVHIQ_TJ-69" parent="rIEmjimXDaofbVHIQ_TJ-66" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontStyle=1" value="This should fail before building as it has failure code and thus image will not be created." vertex="1">
          <mxGeometry height="100" width="267" x="533" as="geometry">
            <mxRectangle height="100" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tzCBWYbo5LJOdzvucUu7-1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#fff2cc;strokeColor=#d6b656;align=left;spacing=12;verticalAlign=top;" value="&lt;h3&gt;&lt;b&gt;Summary&lt;/b&gt;&lt;/h3&gt;&lt;div&gt;&lt;b&gt;Task 1&lt;/b&gt; - Create a small Linux project with a Dockerfile and submit it to Cloud Build.&amp;nbsp; Cloud Build will create an image for us and save it to our Artifact Repository (which we have configured and passed as parameter to Cloud Build)&lt;br&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Task 2&lt;/b&gt; - Instead of passing parameters in the CLI, we create a&amp;nbsp;&lt;b&gt;cloudbuild.yaml&lt;/b&gt;&amp;nbsp;file with the configuration and create a new image with it&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Task 3&lt;/b&gt; - We again use cloudbuild.yaml file; however, our image build is supposed to fail; in which case we can see that Cloud Build throws an error in the terminal.&lt;/div&gt;" vertex="1">
          <mxGeometry height="260" width="430" x="570" y="-180" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="g0ApMbBt8kEW2GEFxi94" name="4.4 Clusters and Deployments">
    <mxGraphModel dx="2347" dy="1105" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="O17KWDyKDiF7tyBVF9dy-1" parent="1" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;" value="" vertex="1">
          <mxGeometry height="2250" width="790" x="20" y="20" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-2" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="90" width="790" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-3" parent="O17KWDyKDiF7tyBVF9dy-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;rowspan=1;colspan=3;" value="Create a GKE cluster and deploy" vertex="1">
          <mxGeometry height="90" width="790" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-4" parent="O17KWDyKDiF7tyBVF9dy-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1" visible="0">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-8" parent="O17KWDyKDiF7tyBVF9dy-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" visible="0">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-5" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="90" width="790" y="90" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-6" parent="O17KWDyKDiF7tyBVF9dy-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Setup configuration" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-7" parent="O17KWDyKDiF7tyBVF9dy-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="export my_region=asia-south1&lt;br&gt;export my_cluster=autopilot-cluster-1" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-9" parent="O17KWDyKDiF7tyBVF9dy-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-10" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="180" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-11" parent="O17KWDyKDiF7tyBVF9dy-10" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create cluster in autopilot mode" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-12" parent="O17KWDyKDiF7tyBVF9dy-10" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud container clusters create-auto $my_cluster --region $my_region" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-13" parent="O17KWDyKDiF7tyBVF9dy-10" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-14" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="270" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-15" parent="O17KWDyKDiF7tyBVF9dy-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Get credentials for the cluster which will be stored in the &lt;b&gt;~/.kube/config&lt;/b&gt; file" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-16" parent="O17KWDyKDiF7tyBVF9dy-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud container clusters get-credentials $my_cluster --region $my_region" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-17" parent="O17KWDyKDiF7tyBVF9dy-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Once we do this, the context is set for this cluster.&amp;nbsp; All operations executed ahead will be for this cluster only unless specified with&amp;nbsp;&lt;b&gt;context&lt;/b&gt;&amp;nbsp;or&amp;nbsp;&lt;b&gt;config&lt;/b&gt;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-18" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="360" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-19" parent="O17KWDyKDiF7tyBVF9dy-18" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="View configuration" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-20" parent="O17KWDyKDiF7tyBVF9dy-18" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl config view" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-21" parent="O17KWDyKDiF7tyBVF9dy-18" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-22" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="450" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-23" parent="O17KWDyKDiF7tyBVF9dy-22" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Have a look at the current context" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-24" parent="O17KWDyKDiF7tyBVF9dy-22" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl config current-context" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-25" parent="O17KWDyKDiF7tyBVF9dy-22" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-26" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="540" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-27" parent="O17KWDyKDiF7tyBVF9dy-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="List all contexts" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-28" parent="O17KWDyKDiF7tyBVF9dy-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl config get-contexts" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-29" parent="O17KWDyKDiF7tyBVF9dy-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-30" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="630" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-31" parent="O17KWDyKDiF7tyBVF9dy-30" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Use another context" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-32" parent="O17KWDyKDiF7tyBVF9dy-30" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl config use-context gke_${DEVSHELL_PROJECT_ID}_${my_region}_${my_cluster}" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-33" parent="O17KWDyKDiF7tyBVF9dy-30" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Note that the cluster name has a certain structure" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-34" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="720" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-35" parent="O17KWDyKDiF7tyBVF9dy-34" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Enable autocomplete in bash shell" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-36" parent="O17KWDyKDiF7tyBVF9dy-34" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="source &lt;(kubectl completion bash)" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-37" parent="O17KWDyKDiF7tyBVF9dy-34" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-38" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="810" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-39" parent="O17KWDyKDiF7tyBVF9dy-38" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Deploy nginx" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-40" parent="O17KWDyKDiF7tyBVF9dy-38" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl create deployment &amp;lt;deployment-name&amp;gt; --image nginx nginx-1" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-41" parent="O17KWDyKDiF7tyBVF9dy-38" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-42" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="900" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-43" parent="O17KWDyKDiF7tyBVF9dy-42" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="List the pods that were created with this deployment" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-44" parent="O17KWDyKDiF7tyBVF9dy-42" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl get pods" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-45" parent="O17KWDyKDiF7tyBVF9dy-42" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-46" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="990" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-47" parent="O17KWDyKDiF7tyBVF9dy-46" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="get top nodes and top pods" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-48" parent="O17KWDyKDiF7tyBVF9dy-46" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl top pods&lt;br&gt;&lt;br&gt;kubectl top nodes" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-49" parent="O17KWDyKDiF7tyBVF9dy-46" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-50" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-51" parent="O17KWDyKDiF7tyBVF9dy-50" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Set the pod-id/name on a variable" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-52" parent="O17KWDyKDiF7tyBVF9dy-50" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="my_nginx_pod=&amp;lt;pod-name&amp;gt;" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-53" parent="O17KWDyKDiF7tyBVF9dy-50" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-54" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1170" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-55" parent="O17KWDyKDiF7tyBVF9dy-54" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="describe the pod" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-56" parent="O17KWDyKDiF7tyBVF9dy-54" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl describe pod $my_nginx_pod" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-57" parent="O17KWDyKDiF7tyBVF9dy-54" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-58" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1260" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-59" parent="O17KWDyKDiF7tyBVF9dy-58" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create a sample test.html file which we&#39;ll push into our pod" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-60" parent="O17KWDyKDiF7tyBVF9dy-58" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl cp ~/test.html $my_nginx_pod:/usr/share/nginx/html/test.html" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-61" parent="O17KWDyKDiF7tyBVF9dy-58" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-62" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1350" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-63" parent="O17KWDyKDiF7tyBVF9dy-62" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Expose the pod for testing" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-64" parent="O17KWDyKDiF7tyBVF9dy-62" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl expose pod $my_nginx_pod --port 80 --type LoadBalancer" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-65" parent="O17KWDyKDiF7tyBVF9dy-62" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-66" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1440" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-67" parent="O17KWDyKDiF7tyBVF9dy-66" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="List the services" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-68" parent="O17KWDyKDiF7tyBVF9dy-66" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="&lt;pre class=&quot;hljs routeros&quot;&gt;kubectl &lt;span class=&quot;hljs-builtin-name&quot;&gt;get&lt;/span&gt; services&lt;/pre&gt;" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-69" parent="O17KWDyKDiF7tyBVF9dy-66" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Once the External IP address, few minutes after that we can test the web app at the given External IP and also &lt;b&gt;test.html&lt;/b&gt; page" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-70" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1530" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-71" parent="O17KWDyKDiF7tyBVF9dy-70" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Clone the repository for introspeciton" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-72" parent="O17KWDyKDiF7tyBVF9dy-70" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="git clone https://github.com/GoogleCloudPlatform/training-data-analyst" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-73" parent="O17KWDyKDiF7tyBVF9dy-70" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-74" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1620" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-75" parent="O17KWDyKDiF7tyBVF9dy-74" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create a soft link&lt;br&gt;or&amp;nbsp;&lt;br&gt;CD into the resource folder" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-76" parent="O17KWDyKDiF7tyBVF9dy-74" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="ln -s ~/training-data-analyst/courses/ak8s/v1.1 ~/ak8s&lt;br&gt;&lt;br&gt;cd training-data-analyst/courses/ak8s/v1.1/GKE_Shell/" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-77" parent="O17KWDyKDiF7tyBVF9dy-74" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-78" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1710" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-79" parent="O17KWDyKDiF7tyBVF9dy-78" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Again, list the pods and we&#39;ll see two pods" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-80" parent="O17KWDyKDiF7tyBVF9dy-78" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl get pods" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-81" parent="O17KWDyKDiF7tyBVF9dy-78" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-82" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1800" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-83" parent="O17KWDyKDiF7tyBVF9dy-82" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="SSH into the newly created pod" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-84" parent="O17KWDyKDiF7tyBVF9dy-82" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl exec -it &amp;lt;pod-name&amp;gt; -- /bin/bash" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-85" parent="O17KWDyKDiF7tyBVF9dy-82" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="now we are in pod shell" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-86" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1890" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-87" parent="O17KWDyKDiF7tyBVF9dy-86" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="cd into the HTML folder and add a test.html with some content" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-88" parent="O17KWDyKDiF7tyBVF9dy-86" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="cd usr/share/nginx/html" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-89" parent="O17KWDyKDiF7tyBVF9dy-86" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-90" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="1980" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-91" parent="O17KWDyKDiF7tyBVF9dy-90" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Forward the port" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-92" parent="O17KWDyKDiF7tyBVF9dy-90" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl port-forward &amp;lt;pod-name&amp;gt; 10081:80" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-93" parent="O17KWDyKDiF7tyBVF9dy-90" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="10081 is a port on localhost&lt;br&gt;&lt;div&gt;80 is a port exposed by the nginx web&amp;nbsp;server&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-94" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="2070" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-95" parent="O17KWDyKDiF7tyBVF9dy-94" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Open a new terminal and test our website" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-96" parent="O17KWDyKDiF7tyBVF9dy-94" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="curl http://127.0.0.1:10081/test.html" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-97" parent="O17KWDyKDiF7tyBVF9dy-94" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-98" parent="O17KWDyKDiF7tyBVF9dy-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="790" y="2160" as="geometry" />
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-99" parent="O17KWDyKDiF7tyBVF9dy-98" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="We can also view the logs for the server" vertex="1">
          <mxGeometry height="90" width="260" as="geometry">
            <mxRectangle height="90" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-100" parent="O17KWDyKDiF7tyBVF9dy-98" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="kubectl logs &amp;lt;pod-name&amp;gt; -f --timestamps" vertex="1">
          <mxGeometry height="90" width="267" x="260" as="geometry">
            <mxRectangle height="90" width="267" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="O17KWDyKDiF7tyBVF9dy-101" parent="O17KWDyKDiF7tyBVF9dy-98" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="90" width="263" x="527" as="geometry">
            <mxRectangle height="90" width="263" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f48fgXLZPh9ZQo3hgbtT-1" parent="1" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;fillColor=#e1d5e7;strokeColor=#9673a6;" value="Need to practice" vertex="1">
          <mxGeometry height="1970" width="90" x="-80" y="290" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="5.1 Clud Run and IAM" id="fJa-bGf0KtOeBzwlbln7">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="41zspn_ZCD3zTolKA1WF-1" parent="1" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;" value="" vertex="1">
          <mxGeometry height="1820" width="960" x="40" y="30" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-2" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="40" width="960" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-3" parent="41zspn_ZCD3zTolKA1WF-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;rowspan=1;colspan=3;fontStyle=1" value="Implementing least privilege policy bindings in Cloud Run" vertex="1">
          <mxGeometry height="40" width="960" as="geometry">
            <mxRectangle height="40" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-4" parent="41zspn_ZCD3zTolKA1WF-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1" visible="0">
          <mxGeometry height="40" width="470" x="230" as="geometry">
            <mxRectangle height="40" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-26" parent="41zspn_ZCD3zTolKA1WF-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" visible="0">
          <mxGeometry height="40" width="260" x="700" as="geometry">
            <mxRectangle height="40" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-5" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="40" width="960" y="40" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-6" parent="41zspn_ZCD3zTolKA1WF-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Enable Cloud run service" vertex="1">
          <mxGeometry height="40" width="230" as="geometry">
            <mxRectangle height="40" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-7" parent="41zspn_ZCD3zTolKA1WF-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud services enable run.googleapis.com" vertex="1">
          <mxGeometry height="40" width="470" x="230" as="geometry">
            <mxRectangle height="40" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-27" parent="41zspn_ZCD3zTolKA1WF-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" vertex="1">
          <mxGeometry height="40" width="260" x="700" as="geometry">
            <mxRectangle height="40" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-8" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="40" width="960" y="80" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-9" parent="41zspn_ZCD3zTolKA1WF-8" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create a location environment variable" vertex="1">
          <mxGeometry height="40" width="230" as="geometry">
            <mxRectangle height="40" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-10" parent="41zspn_ZCD3zTolKA1WF-8" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="export LOCATION=us-central1" vertex="1">
          <mxGeometry height="40" width="470" x="230" as="geometry">
            <mxRectangle height="40" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-28" parent="41zspn_ZCD3zTolKA1WF-8" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" vertex="1">
          <mxGeometry height="40" width="260" x="700" as="geometry">
            <mxRectangle height="40" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-11" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="40" width="960" y="120" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-12" parent="41zspn_ZCD3zTolKA1WF-11" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Set the default cloud run region" vertex="1">
          <mxGeometry height="40" width="230" as="geometry">
            <mxRectangle height="40" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-13" parent="41zspn_ZCD3zTolKA1WF-11" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud config set run/region $LOCATION" vertex="1">
          <mxGeometry height="40" width="470" x="230" as="geometry">
            <mxRectangle height="40" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-29" parent="41zspn_ZCD3zTolKA1WF-11" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" vertex="1">
          <mxGeometry height="40" width="260" x="700" as="geometry">
            <mxRectangle height="40" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-14" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="70" width="960" y="160" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-15" parent="41zspn_ZCD3zTolKA1WF-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Deploy billing application image to Cloud Run&lt;br&gt;&lt;b&gt;any user on the internet should be able to access it&lt;/b&gt;" vertex="1">
          <mxGeometry height="70" width="230" as="geometry">
            <mxRectangle height="70" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-16" parent="41zspn_ZCD3zTolKA1WF-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud run deploy billing-service --image &amp;lt;image-path&amp;gt;" vertex="1">
          <mxGeometry height="70" width="470" x="230" as="geometry">
            <mxRectangle height="70" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-30" parent="41zspn_ZCD3zTolKA1WF-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcr.io/qwiklabs-resources/gsp723-parking-service&lt;br&gt;&lt;br&gt;nginxinc/nginx-privileged" vertex="1">
          <mxGeometry height="70" width="260" x="700" as="geometry">
            <mxRectangle height="70" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-17" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="70" width="960" y="230" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-18" parent="41zspn_ZCD3zTolKA1WF-17" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Once deployed, set the value of the service URL on BILLING_SERVICE_URL environment variable" vertex="1">
          <mxGeometry height="70" width="230" as="geometry">
            <mxRectangle height="70" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-19" parent="41zspn_ZCD3zTolKA1WF-17" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="BILLING_SERVICE_URL=$(gcloud run services billing-service --filter &quot;value(URL)&quot;)" vertex="1">
          <mxGeometry height="70" width="470" x="230" as="geometry">
            <mxRectangle height="70" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-31" parent="41zspn_ZCD3zTolKA1WF-17" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" vertex="1">
          <mxGeometry height="70" width="260" x="700" as="geometry">
            <mxRectangle height="70" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-32" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="300" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-33" parent="41zspn_ZCD3zTolKA1WF-32" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Run a POST curl on the URL" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-34" parent="41zspn_ZCD3zTolKA1WF-32" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;" value="&lt;pre class=&quot;bash wrap hljs&quot;&gt;curl -X POST -H &lt;span class=&quot;hljs-string&quot;&gt;&quot;Content-Type: application/json&quot;&lt;/span&gt; \&lt;br&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$BILLING_SERVICE_URL&lt;/span&gt; \&lt;br&gt;-d &lt;span class=&quot;hljs-string&quot;&gt;&#39;{&quot;userid&quot;: &quot;1234&quot;, &quot;minBalance&quot;: 100}&#39;&lt;/span&gt;&lt;/pre&gt;" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-35" parent="41zspn_ZCD3zTolKA1WF-32" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="&lt;pre class=&quot;bash wrap hljs&quot;&gt;&lt;span class=&quot;hljs-string&quot;&gt;&#39;{&quot;userid&quot;: &quot;1234&quot;, &quot;minBalance&quot;: 100}&#39;&lt;/span&gt;&lt;/pre&gt;" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-36" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="380" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-37" parent="41zspn_ZCD3zTolKA1WF-36" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Review the call made in the logs on GC Console and notice minBalance entry" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-38" parent="41zspn_ZCD3zTolKA1WF-36" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;" value="NA" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-39" parent="41zspn_ZCD3zTolKA1WF-36" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-40" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="460" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-41" parent="41zspn_ZCD3zTolKA1WF-40" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="View the iam policy on the service&amp;nbsp;" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-42" parent="41zspn_ZCD3zTolKA1WF-40" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;" value="gcloud run services billing-service get-iam-policy" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-43" parent="41zspn_ZCD3zTolKA1WF-40" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-44" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="540" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-45" parent="41zspn_ZCD3zTolKA1WF-44" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Remove policy binding from the service" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-46" parent="41zspn_ZCD3zTolKA1WF-44" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;" value="gcloud run services billing-service remove-iam-policy-binding --members allUsers --role roles/run.invoker" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-47" parent="41zspn_ZCD3zTolKA1WF-44" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="Now, the call fails.&amp;nbsp; So, we&#39;ll create a service account with roles/run.invoker and assign use it in our cloud shell and then try to call the service again" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-48" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="620" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-49" parent="41zspn_ZCD3zTolKA1WF-48" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create a service account" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-50" parent="41zspn_ZCD3zTolKA1WF-48" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;" value="gcloud iam services-accounts create billing-initiator --display-name &quot;Billing Initiator&quot;" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-51" parent="41zspn_ZCD3zTolKA1WF-48" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-52" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="700" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-53" parent="41zspn_ZCD3zTolKA1WF-52" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="&lt;div&gt;Grant roles/run.invoker permission&lt;/div&gt;" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-54" parent="41zspn_ZCD3zTolKA1WF-52" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;" value="gcloud run services add-iam-policy-binding &amp;lt;service-name&amp;gt; --member &amp;lt;member&amp;gt; --role &amp;lt;role&amp;gt;" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-55" parent="41zspn_ZCD3zTolKA1WF-52" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#82b366;overflow=hidden;fillColor=#d5e8d4;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fontStyle=1" value="If we directly set the IAM policy on the run service resource instead of setting on the project it will comply with&amp;nbsp;&amp;nbsp;" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-56" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="780" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-57" parent="41zspn_ZCD3zTolKA1WF-56" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Set the billing-initiator SA email on env variable&amp;nbsp;" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-58" parent="41zspn_ZCD3zTolKA1WF-56" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;" value="BILLING_INITIATOR_EMAIL=$(gcloud iam service-accounts list --filter billing-initiator --format &quot;value(EMAIL)&quot;)&amp;nbsp; &amp;amp;&amp;amp; echo&amp;nbsp;$BILLING_INITIATOR_EMAIL" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-59" parent="41zspn_ZCD3zTolKA1WF-56" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-60" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="860" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-61" parent="41zspn_ZCD3zTolKA1WF-60" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create a key file for the service account" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-62" parent="41zspn_ZCD3zTolKA1WF-60" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;" value="&lt;pre class=&quot;bash wrap hljs&quot;&gt;gcloud iam service-accounts keys create key.json \&lt;br&gt;--iam-account=&lt;span class=&quot;hljs-variable&quot;&gt;${BILLING_INITIATOR_EMAIL}&lt;/span&gt;&lt;/pre&gt;" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-63" parent="41zspn_ZCD3zTolKA1WF-60" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-64" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="940" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-65" parent="41zspn_ZCD3zTolKA1WF-64" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="&lt;b&gt;In a new Cloud Shell Tab&lt;/b&gt;&lt;br&gt;Activate the service account in the shell" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-66" parent="41zspn_ZCD3zTolKA1WF-64" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;" value="&lt;pre class=&quot;bash wrap hljs&quot;&gt;gcloud auth activate-service-account \&lt;br&gt;--key-file=key.json&lt;/pre&gt;" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-67" parent="41zspn_ZCD3zTolKA1WF-64" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="After a minute or two, again try to call the service and it should be successful" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-72" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="1020" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-73" parent="41zspn_ZCD3zTolKA1WF-72" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Invoke the service" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-74" parent="41zspn_ZCD3zTolKA1WF-72" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;" value="&amp;nbsp;curl -X POST -H &quot;Content-Type: application/json&quot; \&lt;br&gt;&amp;nbsp; -H &quot;Authorization: Bearer $(gcloud auth print-identity-token)&quot; \&lt;br&gt;&amp;nbsp; $BILLING_SERVICE_URL -d &#39;{&quot;userid&quot;: &quot;1234&quot;, &quot;minBalance&quot;: 500}&#39;" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-75" parent="41zspn_ZCD3zTolKA1WF-72" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=#6c8ebf;overflow=hidden;fillColor=#dae8fc;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="This works because the service account is activated on this shell" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-76" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="1100" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-77" parent="41zspn_ZCD3zTolKA1WF-76" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fillColor=none;" value="Deploy a second service (using the same image)" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-78" parent="41zspn_ZCD3zTolKA1WF-76" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;fillColor=none;" value="gcloud run deploy billing-service-2 --image nginxinc/nginx-unprivileged --platform managed --no-allow-unathenticated" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-79" parent="41zspn_ZCD3zTolKA1WF-76" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fillColor=none;" value="nginxinc/nginx-unprivileged" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-80" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="1180" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-81" parent="41zspn_ZCD3zTolKA1WF-80" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="Assign the URL of the new service to an environment variable" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-82" parent="41zspn_ZCD3zTolKA1WF-80" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="BILLING_SERVICE_2_URL=$(gcloud run services list --filter billing-service-2 --format &quot;value(URL)&quot;)" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-83" parent="41zspn_ZCD3zTolKA1WF-80" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-92" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="1260" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-93" parent="41zspn_ZCD3zTolKA1WF-92" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="In a 3rd cloud shell, activate the service account we created" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-94" parent="41zspn_ZCD3zTolKA1WF-92" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;fillColor=#fff2cc;strokeColor=#d6b656;" value="&lt;div&gt;gcloud auth activate-service-account \&lt;/div&gt;&lt;div&gt;--key-file key.json&lt;/div&gt;" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-95" parent="41zspn_ZCD3zTolKA1WF-92" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-84" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="1340" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-85" parent="41zspn_ZCD3zTolKA1WF-84" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="Make a GET call to the billing-service-2" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-86" parent="41zspn_ZCD3zTolKA1WF-84" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;fillColor=#fff2cc;strokeColor=#d6b656;" value="curl -H &quot;Authorization: Bearer $(gcloud auth print-identity-token)&quot; http://${BILLING_SERVICE_2_URL}" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-87" parent="41zspn_ZCD3zTolKA1WF-84" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fillColor=#fff2cc;strokeColor=#d6b656;" value="We can see that this too works so our SA doesn&#39;t have least privileged." vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-88" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="1420" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-89" parent="41zspn_ZCD3zTolKA1WF-88" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fillColor=none;strokeColor=#6c8ebf;" value="Set the billing-initiator-email on an environment variable as we are going to remove project level roles/run.invoker on it" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-90" parent="41zspn_ZCD3zTolKA1WF-88" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;fillColor=none;strokeColor=#6c8ebf;" value="&lt;pre class=&quot;bash wrap hljs&quot;&gt; BILLING_INITIATOR_EMAIL=$(gcloud iam service-accounts list \&lt;br&gt;--filter=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Billing Initiator&quot;&lt;/span&gt; \&lt;br&gt;--format=&lt;span class=&quot;hljs-string&quot;&gt;&quot;value(EMAIL)&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-built_in&quot;&gt;\&lt;br&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$BILLING_INITIATOR_EMAIL&lt;/span&gt;&lt;/pre&gt;" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-91" parent="41zspn_ZCD3zTolKA1WF-88" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fillColor=none;strokeColor=#6c8ebf;" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-96" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="1500" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-97" parent="41zspn_ZCD3zTolKA1WF-96" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fillColor=none;strokeColor=#6c8ebf;" value="Remove project level permissions on the service account" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-98" parent="41zspn_ZCD3zTolKA1WF-96" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;fillColor=none;strokeColor=#6c8ebf;" value="gcloud projects remove-iam-policy-binding $GOOGLE_CLOUD_PROJECT \&lt;br&gt;&amp;nbsp; --member=serviceAccount:${BILLING_INITIATOR_EMAIL} \&lt;br&gt;&amp;nbsp; --role=roles/run.invoker" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-99" parent="41zspn_ZCD3zTolKA1WF-96" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fillColor=none;strokeColor=#6c8ebf;" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-100" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="1580" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-101" parent="41zspn_ZCD3zTolKA1WF-100" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fillColor=none;strokeColor=#6c8ebf;" value="Add permission at the resource level for billing-service" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-102" parent="41zspn_ZCD3zTolKA1WF-100" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;fillColor=none;strokeColor=#6c8ebf;" value="gcloud run services add-iam-policy-binding billing-service --region $LOCATION \&lt;br&gt;&amp;nbsp; --member=serviceAccount:${BILLING_INITIATOR_EMAIL} \&lt;br&gt;&amp;nbsp; --role=roles/run.invoker --platform managed" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-103" parent="41zspn_ZCD3zTolKA1WF-100" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fillColor=none;strokeColor=#6c8ebf;" vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-104" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="1660" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-105" parent="41zspn_ZCD3zTolKA1WF-104" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="Call the service again in the 2nd terminal" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-106" parent="41zspn_ZCD3zTolKA1WF-104" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="curl -H &quot;Authorization:$(gcloud auth print-identity-token)&quot; $BILLING_SERVICE_URL" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-107" parent="41zspn_ZCD3zTolKA1WF-104" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="This should be successful as the SA associated with it has the roles/run.invoker on it." vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-108" parent="41zspn_ZCD3zTolKA1WF-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="80" width="960" y="1740" as="geometry" />
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-109" parent="41zspn_ZCD3zTolKA1WF-108" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="Call the service in the 3rd terminal" vertex="1">
          <mxGeometry height="80" width="230" as="geometry">
            <mxRectangle height="80" width="230" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-110" parent="41zspn_ZCD3zTolKA1WF-108" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;align=center;fillColor=#fff2cc;strokeColor=#d6b656;" value="curl -H &quot;Authorization:$(gcloud auth print-identity-token)&quot; $BILLING_SERVICE_2_URL" vertex="1">
          <mxGeometry height="80" width="470" x="230" as="geometry">
            <mxRectangle height="80" width="470" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="41zspn_ZCD3zTolKA1WF-111" parent="41zspn_ZCD3zTolKA1WF-108" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;overflow=hidden;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;fillColor=#fff2cc;strokeColor=#d6b656;" value="This should fail because SA associated with this resource dosn&#39;t have the roles/run.invoker on it." vertex="1">
          <mxGeometry height="80" width="260" x="700" as="geometry">
            <mxRectangle height="80" width="260" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="s02oRiUNjDFN6BGDiG4U" name=" 5.2">
    <mxGraphModel dx="1055" dy="608" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-1" parent="1" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;" value="" vertex="1">
          <mxGeometry height="900" width="790" x="20" y="20" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-2" parent="nWwl-SGgjiBtsJC7h2Ws-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="40" width="790" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-3" parent="nWwl-SGgjiBtsJC7h2Ws-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1">
          <mxGeometry height="40" width="213" as="geometry">
            <mxRectangle height="40" width="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-4" parent="nWwl-SGgjiBtsJC7h2Ws-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1">
          <mxGeometry height="40" width="344" x="213" as="geometry">
            <mxRectangle height="40" width="344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-5" parent="nWwl-SGgjiBtsJC7h2Ws-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1">
          <mxGeometry height="40" width="233" x="557" as="geometry">
            <mxRectangle height="40" width="233" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-6" parent="nWwl-SGgjiBtsJC7h2Ws-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="91" width="790" y="40" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-7" parent="nWwl-SGgjiBtsJC7h2Ws-6" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="enable the services" vertex="1">
          <mxGeometry height="91" width="213" as="geometry">
            <mxRectangle height="91" width="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-8" parent="nWwl-SGgjiBtsJC7h2Ws-6" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;align=center;" value="&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;gcloud services enable run.googleapis.com;\&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;gcloud services enable pubsub.googleapis.com&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="91" width="344" x="213" as="geometry">
            <mxRectangle height="91" width="344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-9" parent="nWwl-SGgjiBtsJC7h2Ws-6" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1">
          <mxGeometry height="91" width="233" x="557" as="geometry">
            <mxRectangle height="91" width="233" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-10" parent="nWwl-SGgjiBtsJC7h2Ws-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="112" width="790" y="131" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-11" parent="nWwl-SGgjiBtsJC7h2Ws-10" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="set the configuration" vertex="1">
          <mxGeometry height="112" width="213" as="geometry">
            <mxRectangle height="112" width="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-12" parent="nWwl-SGgjiBtsJC7h2Ws-10" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="&lt;div&gt;&amp;nbsp;LOCATION=us-central1;\&lt;/div&gt;&lt;div&gt;gcloud config set compute/region $LOCATION&lt;/div&gt;" vertex="1">
          <mxGeometry height="112" width="344" x="213" as="geometry">
            <mxRectangle height="112" width="344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-13" parent="nWwl-SGgjiBtsJC7h2Ws-10" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1">
          <mxGeometry height="112" width="233" x="557" as="geometry">
            <mxRectangle height="112" width="233" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-14" parent="nWwl-SGgjiBtsJC7h2Ws-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="111" width="790" y="243" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-15" parent="nWwl-SGgjiBtsJC7h2Ws-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Deploy the store-service" vertex="1">
          <mxGeometry height="111" width="213" as="geometry">
            <mxRectangle height="111" width="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-16" parent="nWwl-SGgjiBtsJC7h2Ws-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="&amp;nbsp;gcloud run deploy store-service \&lt;br&gt;&amp;nbsp; --image gcr.io/qwiklabs-resources/gsp724-store-service \&lt;br&gt;&amp;nbsp; --allow-unauthenticated" vertex="1">
          <mxGeometry height="111" width="344" x="213" as="geometry">
            <mxRectangle height="111" width="344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-17" parent="nWwl-SGgjiBtsJC7h2Ws-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="111" width="233" x="557" as="geometry">
            <mxRectangle height="111" width="233" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-18" parent="nWwl-SGgjiBtsJC7h2Ws-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="111" width="790" y="354" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-19" parent="nWwl-SGgjiBtsJC7h2Ws-18" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Deploy the consumer service" vertex="1">
          <mxGeometry height="111" width="213" as="geometry">
            <mxRectangle height="111" width="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-20" parent="nWwl-SGgjiBtsJC7h2Ws-18" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="&amp;nbsp;gcloud run deploy order-service \&lt;br&gt;&amp;nbsp; --image gcr.io/qwiklabs-resources/gsp724-order-service \&lt;br&gt;&lt;b&gt;&amp;nbsp; --no-allow-unauthenticated&lt;/b&gt;" vertex="1">
          <mxGeometry height="111" width="344" x="213" as="geometry">
            <mxRectangle height="111" width="344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-21" parent="nWwl-SGgjiBtsJC7h2Ws-18" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="111" width="233" x="557" as="geometry">
            <mxRectangle height="111" width="233" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-22" parent="nWwl-SGgjiBtsJC7h2Ws-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="111" width="790" y="465" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-23" parent="nWwl-SGgjiBtsJC7h2Ws-22" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create a pubsub topic" vertex="1">
          <mxGeometry height="111" width="213" as="geometry">
            <mxRectangle height="111" width="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-24" parent="nWwl-SGgjiBtsJC7h2Ws-22" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud pubsub topics create ORDER_PLACED" vertex="1">
          <mxGeometry height="111" width="344" x="213" as="geometry">
            <mxRectangle height="111" width="344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-25" parent="nWwl-SGgjiBtsJC7h2Ws-22" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="111" width="233" x="557" as="geometry">
            <mxRectangle height="111" width="233" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-26" parent="nWwl-SGgjiBtsJC7h2Ws-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="81" width="790" y="576" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-27" parent="nWwl-SGgjiBtsJC7h2Ws-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create a service account" vertex="1">
          <mxGeometry height="81" width="213" as="geometry">
            <mxRectangle height="81" width="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-28" parent="nWwl-SGgjiBtsJC7h2Ws-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud iam service-accounts create pubsub-cloud-run-invoker --display-name &quot;Order Initiator&quot;" vertex="1">
          <mxGeometry height="81" width="344" x="213" as="geometry">
            <mxRectangle height="81" width="344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-29" parent="nWwl-SGgjiBtsJC7h2Ws-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="81" width="233" x="557" as="geometry">
            <mxRectangle height="81" width="233" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-30" parent="nWwl-SGgjiBtsJC7h2Ws-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="81" width="790" y="657" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-31" parent="nWwl-SGgjiBtsJC7h2Ws-30" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Confirm the SA was created" vertex="1">
          <mxGeometry height="81" width="213" as="geometry">
            <mxRectangle height="81" width="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-32" parent="nWwl-SGgjiBtsJC7h2Ws-30" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="&amp;nbsp;gcloud iam service-accounts list --filter=&quot;Order Initiator&quot;" vertex="1">
          <mxGeometry height="81" width="344" x="213" as="geometry">
            <mxRectangle height="81" width="344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-33" parent="nWwl-SGgjiBtsJC7h2Ws-30" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="81" width="233" x="557" as="geometry">
            <mxRectangle height="81" width="233" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-34" parent="nWwl-SGgjiBtsJC7h2Ws-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="81" width="790" y="738" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-35" parent="nWwl-SGgjiBtsJC7h2Ws-34" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Add&amp;nbsp; binding to order-service iam policy giving roles/run.invoker permission to the newly created service account" vertex="1">
          <mxGeometry height="81" width="213" as="geometry">
            <mxRectangle height="81" width="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-36" parent="nWwl-SGgjiBtsJC7h2Ws-34" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud run services add-iam-policy-binding order-service --member $(gcloud iam service-accounts list --filter &quot;Order Initiator&quot; --format &quot;value(EMAIL)&quot;) --role roles/run.invoker --platform managed" vertex="1">
          <mxGeometry height="81" width="344" x="213" as="geometry">
            <mxRectangle height="81" width="344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-37" parent="nWwl-SGgjiBtsJC7h2Ws-34" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="81" width="233" x="557" as="geometry">
            <mxRectangle height="81" width="233" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-38" parent="nWwl-SGgjiBtsJC7h2Ws-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="81" width="790" y="819" as="geometry" />
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-39" parent="nWwl-SGgjiBtsJC7h2Ws-38" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Add PROJECT_NUMBER to an environment variable" vertex="1">
          <mxGeometry height="81" width="213" as="geometry">
            <mxRectangle height="81" width="213" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-40" parent="nWwl-SGgjiBtsJC7h2Ws-38" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="PROJECT_NUMBER=$(gcloud projects list --format &quot;value(PROJECT_NUMBER)&quot; --filter &quot;project-id&quot;)&amp;nbsp;" vertex="1">
          <mxGeometry height="81" width="344" x="213" as="geometry">
            <mxRectangle height="81" width="344" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nWwl-SGgjiBtsJC7h2Ws-41" parent="nWwl-SGgjiBtsJC7h2Ws-38" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1">
          <mxGeometry height="81" width="233" x="557" as="geometry">
            <mxRectangle height="81" width="233" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="LCPu3V7v7PmwfsuecgGf" name="Pr-3.1 Storage &amp; IAM">
    <mxGraphModel dx="1055" dy="608" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="KX54FBd6infsHnor46Cd-1" parent="1" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;" value="" vertex="1">
          <mxGeometry height="630" width="780" x="20" y="20" as="geometry" />
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-2" parent="KX54FBd6infsHnor46Cd-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="90" width="780" as="geometry" />
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-3" parent="KX54FBd6infsHnor46Cd-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;rowspan=1;colspan=2;fontStyle=1" value="Managing Storage Objects and IAM" vertex="1">
          <mxGeometry height="90" width="780" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-4" parent="KX54FBd6infsHnor46Cd-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1" visible="0">
          <mxGeometry height="90" width="390" x="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-5" parent="KX54FBd6infsHnor46Cd-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="90" width="780" y="90" as="geometry" />
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-6" parent="KX54FBd6infsHnor46Cd-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Create a storage bucket with &lt;b&gt;gsutil&lt;/b&gt; as well as &lt;b&gt;gcloud&lt;/b&gt;" vertex="1">
          <mxGeometry height="90" width="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-7" parent="KX54FBd6infsHnor46Cd-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud storage buckets create &amp;lt;bucket-id&amp;gt;" vertex="1">
          <mxGeometry height="90" width="390" x="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-8" parent="KX54FBd6infsHnor46Cd-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="780" y="180" as="geometry" />
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-9" parent="KX54FBd6infsHnor46Cd-8" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Copy a file from shell to the storage bucket with both gcloud and gsutil" vertex="1">
          <mxGeometry height="90" width="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-10" parent="KX54FBd6infsHnor46Cd-8" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud storage cp &amp;lt;from-link&amp;gt; &amp;lt;to-link&amp;gt;" vertex="1">
          <mxGeometry height="90" width="390" x="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-11" parent="KX54FBd6infsHnor46Cd-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="780" y="270" as="geometry" />
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-12" parent="KX54FBd6infsHnor46Cd-11" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Copy a file from storage bucket to shell with both gcloud and gsutil" vertex="1">
          <mxGeometry height="90" width="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-13" parent="KX54FBd6infsHnor46Cd-11" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="&#39;&#39;" vertex="1">
          <mxGeometry height="90" width="390" x="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-14" parent="KX54FBd6infsHnor46Cd-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="780" y="360" as="geometry" />
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-15" parent="KX54FBd6infsHnor46Cd-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="List items in a storage bucket with gcloud as well as gsutil" vertex="1">
          <mxGeometry height="90" width="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-16" parent="KX54FBd6infsHnor46Cd-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud storage ls &amp;lt;bucket-link&amp;gt;&lt;br&gt;gsutil ls &amp;lt;bucket-link&amp;gt;" vertex="1">
          <mxGeometry height="90" width="390" x="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-17" parent="KX54FBd6infsHnor46Cd-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="780" y="450" as="geometry" />
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-18" parent="KX54FBd6infsHnor46Cd-17" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Grant principal access to view storage objects" vertex="1">
          <mxGeometry height="90" width="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-19" parent="KX54FBd6infsHnor46Cd-17" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="gcloud iam set-iam-policy ??" vertex="1">
          <mxGeometry height="90" width="390" x="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-20" parent="KX54FBd6infsHnor46Cd-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="90" width="780" y="540" as="geometry" />
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-21" parent="KX54FBd6infsHnor46Cd-20" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Delete a bucket with both gcloud and gsutil" vertex="1">
          <mxGeometry height="90" width="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KX54FBd6infsHnor46Cd-22" parent="KX54FBd6infsHnor46Cd-20" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="&lt;div&gt;gsutil rb &amp;lt;bucket-link&amp;gt; // only empty bucket&lt;/div&gt;&lt;div&gt;gsutil -m rm -r -f &amp;lt;bucket-link&amp;gt; // bucket with items&lt;/div&gt;&lt;br&gt;gcloud storage delete &amp;lt;bucket-link&amp;gt;&amp;nbsp;" vertex="1">
          <mxGeometry height="90" width="390" x="390" as="geometry">
            <mxRectangle height="90" width="390" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="NUmukQWgpWVPUock_6vl" name="Pr-3">
    <mxGraphModel dx="836" dy="608" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-1" parent="1" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;" value="" vertex="1">
          <mxGeometry height="484" width="740" x="40" y="30" as="geometry" />
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-2" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="44" width="740" as="geometry" />
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-3" parent="Izjd2tqnbk1Fhq9awNgG-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;rowspan=1;colspan=2;" value="3.1 - Querying BigQuery" vertex="1">
          <mxGeometry height="44" width="740" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-4" parent="Izjd2tqnbk1Fhq9awNgG-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1" visible="0">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-5" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="44" width="740" y="44" as="geometry" />
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-6" parent="Izjd2tqnbk1Fhq9awNgG-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Understand the following concepts in SQL" vertex="1">
          <mxGeometry height="44" width="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-7" parent="Izjd2tqnbk1Fhq9awNgG-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="SELECT, FROM, WHERE" vertex="1">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-8" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="44" width="740" y="88" as="geometry" />
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-9" parent="Izjd2tqnbk1Fhq9awNgG-8" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Go to Big Query Page and explore the page" vertex="1">
          <mxGeometry height="44" width="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-10" parent="Izjd2tqnbk1Fhq9awNgG-8" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" vertex="1">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-11" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="44" width="740" y="132" as="geometry" />
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-12" parent="Izjd2tqnbk1Fhq9awNgG-11" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Click on Add Data &amp;gt; Star by name &amp;gt; bigquery-public-data" vertex="1">
          <mxGeometry height="44" width="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-13" parent="Izjd2tqnbk1Fhq9awNgG-11" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="This will import the bigquery-public-data dataset" vertex="1">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-14" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="44" width="740" y="176" as="geometry" />
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-15" parent="Izjd2tqnbk1Fhq9awNgG-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Run a query to get all bike rides that lasted more than or equal to 20 minutes in the london_bicycles.cycle_hire table" vertex="1">
          <mxGeometry height="44" width="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-16" parent="Izjd2tqnbk1Fhq9awNgG-14" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="SELECT * FROM `bigquery-public-data.london_bicycles.cycle_hire` WHERE duration &amp;gt;= 1200" vertex="1">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-17" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="44" width="740" y="220" as="geometry" />
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-18" parent="Izjd2tqnbk1Fhq9awNgG-17" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Use GROUP_BY to get unique values of station_name" vertex="1">
          <mxGeometry height="44" width="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-19" parent="Izjd2tqnbk1Fhq9awNgG-17" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="SELECT start_station_name FROM dataset GROUP BY start_station_name" vertex="1">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-20" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="44" width="740" y="264" as="geometry" />
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-21" parent="Izjd2tqnbk1Fhq9awNgG-20" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Use the COUNT function to get the count of bicycles hires from each start station" vertex="1">
          <mxGeometry height="44" width="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-22" parent="Izjd2tqnbk1Fhq9awNgG-20" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="SELECT start_station_name, COUNT(*) FROM dataset GROUP BY start_station_name" vertex="1">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-23" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="44" width="740" y="308" as="geometry" />
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-24" parent="Izjd2tqnbk1Fhq9awNgG-23" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Alias table names - we can change the table names in the columns by using AS" vertex="1">
          <mxGeometry height="44" width="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-25" parent="Izjd2tqnbk1Fhq9awNgG-23" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="SELECT start_station_name, COUNT(*) as num_starts FROM dataset GROUP BY start_station_name" vertex="1">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-26" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="44" width="740" y="352" as="geometry" />
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-27" parent="Izjd2tqnbk1Fhq9awNgG-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Sort the data with ORDER BY&amp;nbsp;" vertex="1">
          <mxGeometry height="44" width="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Izjd2tqnbk1Fhq9awNgG-28" parent="Izjd2tqnbk1Fhq9awNgG-26" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="SELECT start_station_name, COUNT(*) as num FROM dataset GROUP BY start_station_name ORDER BY num [DESC]" vertex="1">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2pUjrBlN6zU2HCnSjZ6--1" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="44" width="740" y="396" as="geometry" />
        </mxCell>
        <mxCell id="2pUjrBlN6zU2HCnSjZ6--2" parent="2pUjrBlN6zU2HCnSjZ6--1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="DELETE rows from the table" vertex="1">
          <mxGeometry height="44" width="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2pUjrBlN6zU2HCnSjZ6--3" parent="2pUjrBlN6zU2HCnSjZ6--1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="DELETE FROM table-name WHERE num = 0" vertex="1">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2pUjrBlN6zU2HCnSjZ6--4" parent="Izjd2tqnbk1Fhq9awNgG-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="44" width="740" y="440" as="geometry" />
        </mxCell>
        <mxCell id="2pUjrBlN6zU2HCnSjZ6--5" parent="2pUjrBlN6zU2HCnSjZ6--4" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="INSERT INTO the table new roes&amp;nbsp;" vertex="1">
          <mxGeometry height="44" width="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2pUjrBlN6zU2HCnSjZ6--6" parent="2pUjrBlN6zU2HCnSjZ6--4" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontFamily=Courier New;" value="INSERT INTO &amp;lt;table-name&amp;gt; (field1, field2) VALUES (&quot;foo&quot;, &quot;bar&quot;)" vertex="1">
          <mxGeometry height="44" width="370" x="370" as="geometry">
            <mxRectangle height="44" width="370" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8c_m-UvYSOi1RYya4Pq_-1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#fff2cc;strokeColor=#d6b656;" value="&lt;div&gt;&lt;b&gt;3.3 Multiple VPC Networks &amp;amp; VM with Multiple Network Interfaces is able to connect to each VPC&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;In this task we end up with 3 Networks.&amp;nbsp; VMs are deployed on subnets in each VM and we note that we aren&#39;t able to ping internal-IP addresses of VMs on other subnets.&lt;br&gt;&lt;br&gt;However, when we create a VM with multiple network interfaces, we are able to connect.&lt;/div&gt;" vertex="1">
          <mxGeometry height="160" width="310" x="40" y="560" as="geometry" />
        </mxCell>
        <mxCell id="8c_m-UvYSOi1RYya4Pq_-2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;fillColor=#fff2cc;strokeColor=#d6b656;" value="&lt;div&gt;&lt;b&gt;3.4 Logging And Monitoring&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Task Create a Cloud Run Service&lt;/div&gt;&lt;div&gt;View the Log Explorer to review the logs for the service&lt;/div&gt;&lt;div&gt;Create an Uptime Check&lt;/div&gt;&lt;div&gt;Create an alerting policy&lt;/div&gt;" vertex="1">
          <mxGeometry height="160" width="310" x="430" y="560" as="geometry" />
        </mxCell>
        <mxCell id="uNNAVEuRLhBoul5W99-z-1" parent="1" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;" value="" vertex="1">
          <mxGeometry height="80" width="750" x="40" y="770" as="geometry" />
        </mxCell>
        <mxCell id="uNNAVEuRLhBoul5W99-z-2" parent="uNNAVEuRLhBoul5W99-z-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="40" width="750" as="geometry" />
        </mxCell>
        <mxCell id="uNNAVEuRLhBoul5W99-z-3" parent="uNNAVEuRLhBoul5W99-z-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;rowspan=1;colspan=2;" value="" vertex="1">
          <mxGeometry height="40" width="750" as="geometry">
            <mxRectangle height="40" width="375" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uNNAVEuRLhBoul5W99-z-4" parent="uNNAVEuRLhBoul5W99-z-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1" visible="0">
          <mxGeometry height="40" width="375" x="375" as="geometry">
            <mxRectangle height="40" width="375" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uNNAVEuRLhBoul5W99-z-5" parent="uNNAVEuRLhBoul5W99-z-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="40" width="750" y="40" as="geometry" />
        </mxCell>
        <mxCell id="uNNAVEuRLhBoul5W99-z-6" parent="uNNAVEuRLhBoul5W99-z-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1">
          <mxGeometry height="40" width="375" as="geometry">
            <mxRectangle height="40" width="375" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uNNAVEuRLhBoul5W99-z-7" parent="uNNAVEuRLhBoul5W99-z-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1">
          <mxGeometry height="40" width="375" x="375" as="geometry">
            <mxRectangle height="40" width="375" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="LWvUBR5OHmYEcGZXAmPx" name="3.3-Multiple VPC Networks">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="31svq7aclgW9nUnJQUmh-1" parent="1" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;" value="" vertex="1">
          <mxGeometry height="80" width="790" x="20" y="20" as="geometry" />
        </mxCell>
        <mxCell id="31svq7aclgW9nUnJQUmh-2" parent="31svq7aclgW9nUnJQUmh-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="40" width="790" as="geometry" />
        </mxCell>
        <mxCell id="31svq7aclgW9nUnJQUmh-3" parent="31svq7aclgW9nUnJQUmh-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;rowspan=1;colspan=2;" value="" vertex="1">
          <mxGeometry height="40" width="790" as="geometry">
            <mxRectangle height="40" width="395" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="31svq7aclgW9nUnJQUmh-4" parent="31svq7aclgW9nUnJQUmh-2" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1" visible="0">
          <mxGeometry height="40" width="395" x="395" as="geometry">
            <mxRectangle height="40" width="395" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="31svq7aclgW9nUnJQUmh-5" parent="31svq7aclgW9nUnJQUmh-1" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="40" width="790" y="40" as="geometry" />
        </mxCell>
        <mxCell id="31svq7aclgW9nUnJQUmh-6" parent="31svq7aclgW9nUnJQUmh-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1">
          <mxGeometry height="40" width="395" as="geometry">
            <mxRectangle height="40" width="395" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="31svq7aclgW9nUnJQUmh-7" parent="31svq7aclgW9nUnJQUmh-5" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1">
          <mxGeometry height="40" width="395" x="395" as="geometry">
            <mxRectangle height="40" width="395" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="H_zrPaPdsYcDUy7MrLtf" name="3.4 - Cloud Monitoring">
    <mxGraphModel dx="836" dy="608" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="rRPznvYq4oM8PA6hO4CV" name="additional labs">
    <mxGraphModel dx="836" dy="608" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="5Z_W6NSjin94iX0IVpwl-2" parent="1" style="shape=table;startSize=0;container=1;collapsible=0;childLayout=tableLayout;" value="" vertex="1">
          <mxGeometry height="240" width="520" x="20" y="20" as="geometry" />
        </mxCell>
        <mxCell id="5Z_W6NSjin94iX0IVpwl-3" parent="5Z_W6NSjin94iX0IVpwl-2" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="40" width="520" as="geometry" />
        </mxCell>
        <mxCell id="5Z_W6NSjin94iX0IVpwl-4" parent="5Z_W6NSjin94iX0IVpwl-3" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;rowspan=1;colspan=2;fontStyle=1" value="Additional Labs" vertex="1">
          <mxGeometry height="40" width="520" as="geometry">
            <mxRectangle height="40" width="189" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Z_W6NSjin94iX0IVpwl-5" parent="5Z_W6NSjin94iX0IVpwl-3" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="" vertex="1" visible="0">
          <mxGeometry height="40" width="331" x="189" as="geometry">
            <mxRectangle height="40" width="331" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Z_W6NSjin94iX0IVpwl-9" parent="5Z_W6NSjin94iX0IVpwl-2" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="40" width="520" y="40" as="geometry" />
        </mxCell>
        <mxCell id="5Z_W6NSjin94iX0IVpwl-10" parent="5Z_W6NSjin94iX0IVpwl-9" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Custom IAM Roles" vertex="1">
          <mxGeometry height="40" width="189" as="geometry">
            <mxRectangle height="40" width="189" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Z_W6NSjin94iX0IVpwl-11" parent="5Z_W6NSjin94iX0IVpwl-9" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="https://www.skills.google/focuses/1035?parent=catalog" vertex="1">
          <mxGeometry height="40" width="331" x="189" as="geometry">
            <mxRectangle height="40" width="331" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Z_W6NSjin94iX0IVpwl-6" parent="5Z_W6NSjin94iX0IVpwl-2" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" value="" vertex="1">
          <mxGeometry height="40" width="520" y="80" as="geometry" />
        </mxCell>
        <mxCell id="5Z_W6NSjin94iX0IVpwl-7" parent="5Z_W6NSjin94iX0IVpwl-6" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Weather data in BigQuery:&amp;nbsp;" vertex="1">
          <mxGeometry height="40" width="189" as="geometry">
            <mxRectangle height="40" width="189" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5Z_W6NSjin94iX0IVpwl-8" parent="5Z_W6NSjin94iX0IVpwl-6" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="https://www.skills.google/focuses/609?parent=catalog" vertex="1">
          <mxGeometry height="40" width="331" x="189" as="geometry">
            <mxRectangle height="40" width="331" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="int4gdzQg5V7P5AbHjuw-1" parent="5Z_W6NSjin94iX0IVpwl-2" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="40" width="520" y="120" as="geometry" />
        </mxCell>
        <mxCell id="int4gdzQg5V7P5AbHjuw-2" parent="int4gdzQg5V7P5AbHjuw-1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Loading data into Cloud SQL" vertex="1">
          <mxGeometry height="40" width="189" as="geometry">
            <mxRectangle height="40" width="189" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="int4gdzQg5V7P5AbHjuw-3" parent="int4gdzQg5V7P5AbHjuw-1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="https://www.skills.google/focuses/1157?parent=catalog" vertex="1">
          <mxGeometry height="40" width="331" x="189" as="geometry">
            <mxRectangle height="40" width="331" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8Lvajrkhfv4V5-hHaTaq-1" parent="5Z_W6NSjin94iX0IVpwl-2" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="40" width="520" y="160" as="geometry" />
        </mxCell>
        <mxCell id="8Lvajrkhfv4V5-hHaTaq-2" parent="8Lvajrkhfv4V5-hHaTaq-1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="&lt;div&gt;Introduction to Docker&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="189" as="geometry">
            <mxRectangle height="40" width="189" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8Lvajrkhfv4V5-hHaTaq-3" parent="8Lvajrkhfv4V5-hHaTaq-1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="https://www.skills.google/focuses/1029?parent=catalog" vertex="1">
          <mxGeometry height="40" width="331" x="189" as="geometry">
            <mxRectangle height="40" width="331" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8Lvajrkhfv4V5-hHaTaq-4" parent="5Z_W6NSjin94iX0IVpwl-2" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1">
          <mxGeometry height="40" width="520" y="200" as="geometry" />
        </mxCell>
        <mxCell id="8Lvajrkhfv4V5-hHaTaq-5" parent="8Lvajrkhfv4V5-hHaTaq-4" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="Hello Node Kubernetes&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;" vertex="1">
          <mxGeometry height="40" width="189" as="geometry">
            <mxRectangle height="40" width="189" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8Lvajrkhfv4V5-hHaTaq-6" parent="8Lvajrkhfv4V5-hHaTaq-4" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" value="https://www.skills.google/focuses/564?parent=catalog" vertex="1">
          <mxGeometry height="40" width="331" x="189" as="geometry">
            <mxRectangle height="40" width="331" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
